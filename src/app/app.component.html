<a id="top"></a>
<app-header></app-header>
<main class="main">
  <router-outlet />
</main>

<!-- Global trophy toast overlay -->
<app-trophy-toast></app-trophy-toast>

<!-- Demo notice modal -->
<div
  class="demo-modal-backdrop"
  *ngIf="showDemoModal"
  role="dialog"
  aria-modal="true"
  aria-labelledby="demoModalTitle"
  aria-describedby="demoModalDesc"
>
  <div class="demo-modal">
    <div class="demo-pill">
      <div>MBK</div>
    </div>
    <h2 id="demoModalTitle">Versão demonstrativa</h2>
    <p id="demoModalDesc">
      Atenção: esta versão é apenas demonstrativa e os dados gerados serão removidos ao sair do site.
    </p>
    <button type="button" class="demo-btn" (click)="acceptDemoNotice()" autofocus>
      Entendi
    </button>
  </div>
</div>

<!-- Hidden YouTube background audio (autoplays muted; unmuted on first user gesture) -->
<iframe
  #bgPlayer
  id="bgPlayer"
  aria-hidden="true"
  title="Hip hop background audio"
  [src]="bgMusicUrl"
  allow="autoplay; encrypted-media; picture-in-picture; fullscreen"
  loading="eager"
  referrerpolicy="origin"
  style="position: absolute; width: 0; height: 0; border: 0; opacity: 0; pointer-events: none;"
></iframe>
